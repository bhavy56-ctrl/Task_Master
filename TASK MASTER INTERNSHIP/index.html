<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8" /> <title>TaskMaster</title> <style> body { background: linear-gradient(145deg, #c1d3ff, #e6eaff); font-family: 'Segoe UI', sans-serif; margin: 0; padding: 0; display: flex; align-items: center; justify-content: center; min-height: 100vh; } .glass-card { background: rgba(255, 255, 255, 0.15); box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2); backdrop-filter: blur(15px); border-radius: 20px; padding: 30px; width: 90%; max-width: 400px; color: #000; } h2 { text-align: center; margin-bottom: 20px; } input, button { width: 100%; padding: 12px; margin-top: 12px; border: none; border-radius: 10px; background: rgba(255,255,255,0.6); } button { background: #0066ff; color: #fff; font-weight: bold; cursor: pointer; } ul { list-style: none; padding: 0; } li { background: rgba(255, 255, 255, 0.6); margin: 10px 0; padding: 10px; border-radius: 12px; display: flex; justify-content: space-between; align-items: center; } .hidden { display: none; } .actions button { margin-left: 5px; padding: 5px 10px; font-size: 12px; } </style> </head> <body> <div class="glass-card" id="auth-section"> <h2>TaskMaster Login</h2> <input type="email" id="email" placeholder="Email" /> <input type="password" id="password" placeholder="Password" /> <button onclick="login()">Login</button> <button onclick="register()">Register</button> </div> <div class="glass-card hidden" id="app-section"> <h2>Your Tasks</h2> <form id="task-form"> <input type="text" id="title" placeholder="Task Title" required /> <input type="text" id="description" placeholder="Description" /> <button type="submit">Add Task</button> </form> <ul id="task-list"></ul> <button onclick="logout()">Logout</button> </div> <script> const API = "http://localhost:5000"; const token = localStorage.getItem("token"); const authSection = document.getElementById("auth-section"); const appSection = document.getElementById("app-section"); const taskList = document.getElementById("task-list"); const taskForm = document.getElementById("task-form"); function showApp() { authSection.classList.add("hidden"); appSection.classList.remove("hidden"); loadTasks(); } function showLogin() { appSection.classList.add("hidden"); authSection.classList.remove("hidden"); } if (token) showApp(); async function login() { const email = document.getElementById("email").value; const password = document.getElementById("password").value; const res = await fetch(`${API}/api/auth/login`, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ email, password }), }); const data = await res.json(); if (data.token) { localStorage.setItem("token", data.token); showApp(); } else { alert(data.message || "Login failed"); } } async function register() { const email = document.getElementById("email").value; const password = document.getElementById("password").value; const res = await fetch(`${API}/api/auth/register`, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ email, password }), }); const data = await res.json(); alert(data.message); } taskForm.addEventListener("submit", async (e) => { e.preventDefault(); const title = document.getElementById("title").value; const description = document.getElementById("description").value; await fetch(`${API}/api/tasks`, { method: "POST", headers: { "Content-Type": "application/json", "Authorization": "Bearer " + localStorage.getItem("token"), }, body: JSON.stringify({ title, description }), }); taskForm.reset(); loadTasks(); }); async function loadTasks() { const res = await fetch(`${API}/api/tasks`, { headers: { "Authorization": "Bearer " + localStorage.getItem("token"), }, }); const tasks = await res.json(); taskList.innerHTML = ""; tasks.forEach((task) => { const li = document.createElement("li"); li.innerHTML = ` <span style="text-decoration: ${task.completed ? "line-through" : "none"}"> ${task.title} </span> <div class="actions"> <button onclick="toggleComplete('${task._id}')">✅</button> <button onclick="deleteTask('${task._id}')">❌</button> </div> `; taskList.appendChild(li); }); } async function toggleComplete(id) { await fetch(`${API}/api/tasks/${id}/complete`, { method: "PATCH", headers: { "Authorization": "Bearer " + localStorage.getItem("token"), }, }); loadTasks(); } async function deleteTask(id) { await fetch(`${API}/api/tasks/${id}`, { method: "DELETE", headers: { "Authorization": "Bearer " + localStorage.getItem("token"), }, }); loadTasks(); } function logout() { localStorage.removeItem("token"); showLogin(); } </script> </body> </html>